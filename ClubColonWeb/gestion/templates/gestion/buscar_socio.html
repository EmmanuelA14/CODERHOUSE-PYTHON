{% extends 'base.html' %}
{% block titulo %}Buscar Socio{% endblock %}

{% block contenido %}
<div class="row justify-content-center">
    <div class="col-md-10">
        <h2 class="text-center mb-4">üîç Buscar Socio en el Padr√≥n</h2>
        
        <form action="" method="GET" class="d-flex mb-5">
            <input type="text" name="criterio" value="{{ request.GET.criterio }}" class="form-control" placeholder="Ingrese apellido del socio...">
            <button class="btn btn-colon ms-2" type="submit">BUSCAR</button>
        </form>

        {% if socios %}
            <div class="card shadow">
                <div class="card-body p-0">
                    <table class="table table-hover mb-0">
                        <thead class="table-dark">
                            <tr>
                                <th>Nombre</th>
                                <th>Apellido</th>
                                <th>DNI</th>
                                <th class="text-center">Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for socio in socios %}
                            <tr>
                                <td>{{ socio.nombre }}</td>
                                <td>{{ socio.apellido }}</td>
                                <td>{{ socio.dni }}</td>
                                <td class="text-center">
                                    <a href="{% url 'editar_socio' socio.id %}" class="btn btn-sm btn-outline-dark">
                                        <i class="fas fa-edit"></i> Editar
                                    </a>
                                    <a href="{% url 'eliminar_socio' socio.id %}" class="btn btn-sm btn-danger ms-2">
                                        <i class="fas fa-trash"></i> Eliminar
                                    </a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        {% elif request.GET.criterio %}
            <div class="alert alert-warning text-center">
                No se encontraron socios con el apellido: <strong>{{ request.GET.criterio }}</strong>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}